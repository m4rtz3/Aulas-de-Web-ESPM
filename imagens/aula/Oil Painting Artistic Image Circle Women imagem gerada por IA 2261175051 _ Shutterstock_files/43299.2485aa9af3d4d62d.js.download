"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43299],{92561:function(e,t,n){n.d(t,{U:function(){return s}});var i=n(70865),a=n(52322),r=(0,n(6620).Z)((0,a.jsx)("path",{d:"M24.933 15.733l-1.867-1.867-5.733 5.733V3.332h-2.667v16.267l-5.733-5.733-1.867 1.867 8.933 8.933 8.933-8.933zm-22.266 11.6V30h26.667v-2.667H2.667z"}),"Download.svg"),s=function(e){return(0,a.jsx)(r,(0,i.Z)({viewBox:"0 0 32 32"},e))}},68245:function(e,t,n){n.d(t,{e:function(){return r}});var i=n(70865),a=n(38398),r=function(e){var t=e.urlParams,n=e.queryParams,r="/bundle/".concat((void 0===t?{}:t).filename),s=(0,i.Z)({},void 0===n?{}:n);return{url:r,defaultParams:s,formattedUrl:(0,a.format)({pathname:r,query:s})}}},43299:function(e,t,n){n.r(t),n.d(t,{DownloadButton:function(){return w}});var i=n(47842),a=n(70865),r=n(87394),s=n(52322),o=n(85801),c=n(47999),l=n(27739),u=n(8149),d=n(44297),v=n(18167),f=n(21370),m=n(50860),p=n(24114),h=n(76264),g=n(92561),_=n(5632),y=n(2784),z=(0,n(8740).ZL)()(function(e){var t,n=e.breakpoints,a=e.tokens.spacing;return{root:(t={padding:"".concat(a.s," ").concat(a.base)},(0,i.Z)(t,n.up("lg"),{padding:"".concat(a.s," ").concat(a.xl)}),(0,i.Z)(t,"whiteSpace","nowrap"),t)}}),w=function(e){var t=e.asset,n=e.clickAnalyticsLabel,i=e.label,w=e.color,b=e.variant,S=e.shouldUseDownloadIcon,A=e.onClickHandlerOverride,U=z().classes,Z=(0,_.useRouter)().asPath,k=(0,f._)({asset:t}),C=(0,d.EK)(t),N=(0,r.Z)((0,p.Q)(t)||[],2)[1],P=C?"".concat(Z,"?showDrawerOnLoad=true"):(0,v.t)({asset:t,couponCode:l.Xd,productId:l.Pv,existingUserRedirect:N}),T=(0,a.Z)({landing_page:P,view:C?null:l.E6},(null==t?void 0:t.type)===u.Y_&&{assetType:null==t?void 0:t.type,imageId:null==t?void 0:t.id}),I=(0,m.P)({query:T}),R=C?I:k.signUpPageRedirectHandler,x=(0,y.useCallback)(function(){R()},[R]),j=(0,d.ML)(t)&&t.videoRenderUrl;return S?(0,s.jsx)(o.Z,{className:U.root,onClick:null!=A?A:x,"aria-label":i,clickTrack:n,"data-optimize":"DownloadButton-cta",size:"large",children:(0,s.jsx)(g.U,{})}):(0,s.jsx)(c.z,{className:U.root,color:w,variant:b,fullWidth:!0,onClick:null!=A?A:j?function(){(0,h.k)(t)}:x,clickTrack:n,"aria-label":i,"data-optimize":"DownloadButton-cta","data-automation":"AssetDownloadCta_DownloadButton",children:i})};w.defaultProps={asset:{},clickAnalyticsLabel:"",color:"secondary",onClickHandlerOverride:null,shouldUseDownloadIcon:!1,variant:"contained"}},66970:function(e,t,n){n.d(t,{DW:function(){return o},a8:function(){return s}});var i=n(87394),a=n(97258),r=n(8149),s=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null==t?void 0:null===(e=t.sizes)||void 0===e?void 0:e[a.v2]},o=function(e){var t,n,a=e.assetType,s=e.assetSize,o=void 0===s?{}:s,c="",l="";switch(a){case r.pX:c=o.resolution,l=o.format;break;case r.k4:default:c=(n=(0,i.Z)((null==o?void 0:null===(t=o.name)||void 0===t?void 0:t.split("_"))||[],2))[0],l=n[1]}return{size:c,format:l}}},83451:function(e,t,n){n.d(t,{Oo:function(){return D},rB:function(){return Z}});var i,a,r,s,o=n(98788),c=n(70865),l=n(87394),u=n(5163),d=n(81740),v=n(19522),f=n(97258),m=n(8149),p=n(85330),h=n(84833),g=n(94054),_=n(49670),y=n(9009),z=n(81232),w=n(37546),b=n(44297),S=n(18411),A=n(61765),U=function(e){var t,n,i=e.asset,a=i.angle,r=i.selectedFormatType,s=i.selectedShadowsOption;return(0,c.Z)({angle:a||(null==i?void 0:null===(t=i.metadata)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.angle)||"H01",content_size:f.JF},r===v.yI&&{include_shadows:"on"===s})},Z=function(e){var t,n,i=e.asset;return(null==i?void 0:null===(t=i.metadata)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.sizes)||i.sizes},k=(i=(0,o.Z)(function(e){var t,n,i,a;return(0,u.__generator)(this,function(r){switch(r.label){case 0:if(!((null==(t=e.asset)?void 0:null===(n=t.metadata)||void 0===n?void 0:n.cart)&&!t.metadata.cart.sizes))return[3,2];return i=(0,b.so)(t),a={id:t.id},i&&(a.channel=p.$S,a.content_provider=h._e),[4,_.uS.get((0,d.om)({queryParams:a}).formattedUrl).then(function(e){var t=e.data;return(0,y.O)(t)})];case 1:return[2,r.sent().sizes];case 2:return[2,Z({asset:t})]}})}),function(e){return i.apply(this,arguments)}),C=function(e){var t,n,i,a,r=e.asset,s=e.is3dObject,o=e.isRexEditorial,c=e.selectedAssetSize;return r.licenseAsJpeg||(null===(t=r.metadata)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.licenseAsJpeg)?"jpeg":s&&r.selectedFormatType?"3dByFormat":s&&(null===(i=r.metadata)||void 0===i?void 0:null===(a=i.cart)||void 0===a?void 0:a.size)?"3dBySize":S.Bg[c]?"comped":o?"rexEditorial":"default"},N=function(e){var t,n,i,a,r=e.asset,s=e.licenseStrategy,o=e.selectedAssetSize,c=e.sizesToUseArray,u=function(){switch(s){case"jpeg":return c.find(function(e){return e.format===v._3});case"3dByFormat":return c.find(function(e){return e.format===r.selectedFormatType});case"3dBySize":return;case"comped":return(0,w.AR)({sizes:c,compSizeImage:o});default:return(0,w.Nf)(c)}}(),d=(null==u?void 0:u.format)||(null===(t=r.metadata)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.format);switch(s){case"rexEditorial":return{size:f.vD,format:d};case"3dByFormat":return{size:(0,l.Z)(u.name.split("_"),1)[0],format:d};case"3dBySize":return{size:null==r?void 0:null===(i=r.metadata)||void 0===i?void 0:null===(a=i.cart)||void 0===a?void 0:a.size,format:d};default:return{size:S.nd[(0,z.z)(u.name)].downloadName,format:d}}},P=function(e){var t,n,i,a,r=e.selectedAssetSize,s=e.asset,o=Z({asset:s}),l=(0,b.EK)(s),u=(0,b.f8)(s),d=u?U({asset:s,selectedAssetSize:r,sizesToUse:o}):{};if(!o&&(null==s?void 0:null===(t=s.metadata)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.size)&&(null==s?void 0:null===(i=s.metadata)||void 0===i?void 0:null===(a=i.cart)||void 0===a?void 0:a.format))return(0,c.Z)({content_size:l?f.vD:s.metadata.cart.size,content_format:s.metadata.cart.format},d);var v=Object.values(o),m=C({asset:s,is3dObject:u,isRexEditorial:l,selectedAssetSize:r}),p=N({asset:s,licenseStrategy:m,selectedAssetSize:r,sizesToUseArray:v}),h=p.size,g=p.format;return(0,c.Z)({content_size:h,content_format:g},d)},T=function(e){var t=e.map[e.licenseName];return t===f.T0?f.qY:t},I=function(e){var t=e.asset,n=e.licenseName,i=e.isVideoComp,a=e.selectedAssetSize,r=e.sizes,s=(0,b.EK)(t),o=(0,b.cL)(t),c=(0,b.$Q)({sizes:Object.values(r)});return!i&&c?T({map:S.Q1,licenseName:n}):i||n===g.f12||s||o?!a||s||o?(0,w.mF)(r):S.kR[a]:T({map:S.kR,licenseName:n})},R=(a=(0,o.Z)(function(e){var t,n,i,a,r,s,o,c;return(0,u.__generator)(this,function(l){switch(l.label){case 0:return t=e.asset,n=e.licenseName,i=e.isVideoComp,a=e.selectedAssetSize,[4,k({asset:t})];case 1:return s=I({asset:t,licenseName:n,isVideoComp:i,selectedAssetSize:a,sizes:r=l.sent()}),o=(0,b.EK)(t),c=Object.values(r).find(function(e){var t=e.resolution;return S.wb[null==t?void 0:t.toLowerCase()]===s}),[2,{content_size:o?f.vD:s,content_format:null==c?void 0:c.format}]}})}),function(e){return a.apply(this,arguments)}),x=function(e){var t,n=e.format;switch(e.selectedAssetSize){case"stereo":t=f.cs;break;case"5.1":t=f.gp;break;default:t=f.yy}return{content_size:t,content_format:n===v.iH?v.iH:v._Y}},j=(r=(0,o.Z)(function(e){var t,n,i,a,r,s;return(0,u.__generator)(this,function(o){switch(o.label){case 0:switch(t=e.asset,n=e.licenseName,i=e.isVideoComp,a=e.selectedAssetSize,r=e.format,s=(0,A.qw)({asset:t}),(0,b.so)(t)&&(s=m.A7),s){case m.pX:case m.A7:return[3,1];case m.j0:return[3,3];case m.tn:return[3,4]}return[3,5];case 1:return[4,R({asset:t,licenseName:n,isVideoComp:i,selectedAssetSize:a})];case 2:return[2,o.sent()];case 3:return[2,{content_size:f.Ng,content_format:m.j0}];case 4:return[2,x({selectedAssetSize:a,format:r})];case 5:return[2,P({selectedAssetSize:a,asset:t})];case 6:return[2]}})}),function(e){return r.apply(this,arguments)}),D=(s=(0,o.Z)(function(e){var t,n,i,a,r,s,o,l;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return t=e.licenseName,n=e.selectedAssetSize,i=e.asset,a=e.isVideoComp,r=e.format,s=(0,A.qw)({asset:i}),l=[{content_id:o=i.id.toString(),content_type:(0,A.JD)({assetType:s,assetId:o})}],[4,j({asset:i,licenseName:t,isVideoComp:a,selectedAssetSize:n,format:r})];case 1:return[2,c.Z.apply(void 0,l.concat([u.sent()]))]}})}),function(e){return s.apply(this,arguments)})},18167:function(e,t,n){n.d(t,{t:function(){return c}});var i=n(70865),a=n(66970),r=n(44297),s=n(38398),o=n(60591),c=function(e){var t=e.asset,n=e.couponCode,c=e.productId,l=e.selectedAssetSize,u=e.vatNumber,d=e.preset,v=e.seatCount,f=e.doNotRedirect,m=void 0!==f&&f,p=e.existingUserRedirect,h=void 0!==p&&p,g=e.customLandingPage,_=e.host,y=e.license,z=void 0===y?o.ur:y,w=e.membershipId,b=(0,r.OP)({asset:t}),S=(0,r.Tp)(t),A=(0,a.DW)({assetType:S,assetSize:l}),U=A.size,Z=A.format;return(0,s.format)({pathname:null!=g?g:"/order",query:(0,i.Z)({},S&&{assetType:S},b&&{assetId:b},n&&{couponCode:n},u&&{vatNumber:u},U&&{size:U},Z&&{format:Z},v&&{seatCount:v},m&&{doNotRedirect:m},h&&{existingUserRedirect:h},d&&{preset:d},c&&{productId:c},_&&{host:_},z&&{license:z},w&&{membershipId:w})})}},21370:function(e,t,n){n.d(t,{_:function(){return l}});var i=n(70865),a=n(27739),r=n(8149),s=n(18167),o=n(59979),c=n(50860),l=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).asset,t=(0,s.t)({asset:e,couponCode:a.Q9,productId:a.v8}),n=(0,i.Z)({landing_page:t,view:a.Em},(null==e?void 0:e.type)===r.Y_&&{assetType:null==e?void 0:e.type,imageId:null==e?void 0:e.id}),l=(0,o.cM)(n),u=(0,c.P)({query:n});return{href:l,landingPage:t,signUpPageRedirectHandler:u}}},50860:function(e,t,n){n.d(t,{P:function(){return u}});var i=n(70865),a=n(96670),r=n(72075),s=n(2784),o=n(27764),c=n(19819),l=n(59979),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.asset,n=e.query,u=e.shouldSetLocalStorage,d=void 0!==u&&u,v=(0,l.cM)(n);return(0,s.useCallback)(function(){if(r.j){var e,n;d&&(0,c.oe)(t),null===(e=window.NREUM)||void 0===e||null===(n=e.addPageAction)||void 0===n||n.call(e,"UP3-1623 assign useSignUpPageRedirect signUpPath to href",(0,a.Z)((0,i.Z)({},window.location||{}),{shouldSetLocalStorage:d,signUpPath:v})),(0,o.iz)(v,"signUpPageRedirect")}},[v,t,d])}},19819:function(e,t,n){n.d(t,{A_:function(){return U},QH:function(){return C},VM:function(){return P},Zc:function(){return I},mJ:function(){return k},oe:function(){return T},uG:function(){return Z}});var i,a,r,s=n(98788),o=n(70865),c=n(96670),l=n(50930),u=n(5163),d=n(68245),v=n(81740),f=n(19522),m=n(97258),p=n(8149),h=n(85330),g=n(94054),_=n(83451),y=n(37546),z=n(44297),w=n(37154),b=n(91855),S=n(49670),A=n(84159),U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,i=t.target,a=document.createElement("a");a.setAttribute("data-automation","FeatureDownload_utils_link"),a.style.display="none",a.href=e,a.target=void 0===i?"_self":i,a.download=n||e,document.body.appendChild(a),a.click(),(0,A.bK)()||document.body.removeChild(a)},Z=(i=(0,s.Z)(function(e){var t,n;return(0,u.__generator)(this,function(i){switch(i.label){case 0:return t=e.downloadBundlePayload,n=(0,d.e)({urlParams:{filename:t.bundleFilename}}).formattedUrl,[4,b.jl.post(n,t.content)];case 1:return[2,i.sent().data.public_url]}})}),function(e){return i.apply(this,arguments)}),k=function(e){var t=e.licensedContent,n=e.supplementalUrlType,i=t[0],a=i.downloadUrl,r=i.supplementalUrls;if((null==r?void 0:r.length)&&n){var s=(r.find(function(e){return e.type===n})||{}).url;return void 0===s?a:s}return a},C=(a=(0,s.Z)(function(e){var t,n,i,a,r;return(0,u.__generator)(this,function(s){switch(s.label){case 0:return t=e.downloadPayload,n=e.supplementalUrlType,i=e.licenseeIdentifier,a=(0,v.f$)({urlParams:{licenseeIdentifier:i}}).formattedUrl,[4,S.uS.post(a,t)];case 1:return[2,{downloadUrl:k({licensedContent:r=s.sent().data.meta.licensedContent,supplementalUrlType:n}),licensedContent:r}]}})}),function(e){return a.apply(this,arguments)}),N=function(e){var t=e.existingAssetLicenses,n=e.contentType,i=e.licenseName,a=e.subscriptions;switch(n){case p.pX:var r,s,o=(0,w.I)({existingAssetLicenses:t,subscriptions:(0,l.Z)(null!==(r=null==a?void 0:a.videoSubscriptions)&&void 0!==r?r:[]).concat((0,l.Z)(null!==(s=null==a?void 0:a.videoCompSubscriptions)&&void 0!==s?s:[])),licenseName:i});return(null==o?void 0:o.redeemableFor)||i;case p.j0:return i||g.zUW;case p.tn:return i||g.i9D;case p.pV:default:return i}},P=(r=(0,s.Z)(function(e){var t,n,i,a,r;return(0,u.__generator)(this,function(l){switch(l.label){case 0:var d;return t=e.assets,n=e.existingAssetLicenses,i=e.format,a=e.selectedAssetSize,r=e.subscriptions,[4,Promise.all(t.map((d=(0,s.Z)(function(e){var t,s;return(0,u.__generator)(this,function(l){switch(l.label){case 0:return t=(0,y.SS)({asset:e}),[4,(0,_.Oo)({asset:e,licenseName:e.licenseId,selectedAssetSize:a})];case 1:return s=l.sent(),[2,(0,c.Z)((0,o.Z)({},s,t===p.tn&&{override_filename:"".concat(h.Oq,"_").concat(e.id,".").concat(i||s.content_format)},(0,z.f8)(e)&&(0,o.Z)({content_provider:"pixelsquid-media",content_size:m.JF},e.selectedFormatType===f.yI&&{include_shadows:"on"===e.selectedShadowsOption})),{license_name:N({existingAssetLicenses:n,contentType:t,licenseName:e.licenseId,subscriptions:r}),show_modal:!0})]}})}),function(e){return d.apply(this,arguments)})))];case 1:return[2,{required_cookies:"",content:l.sent()}]}})}),function(e){return r.apply(this,arguments)}),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,z.Tp)(e),isRex:e.isRexEditorial}))},I=function(e){var t;return requestAnimationFrame?function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];t&&cancelAnimationFrame(t),t=requestAnimationFrame(function(){e.apply(void 0,(0,l.Z)(i))})}:e}},76264:function(e,t,n){n.d(t,{k:function(){return c}});var i,a=n(98788),r=n(5163),s=n(19819),o={"video/mp4":".mp4","image/gif":".gif"},c=(i=(0,a.Z)(function(e){var t,n;return(0,r.__generator)(this,function(i){switch(i.label){case 0:return[4,fetch("".concat(e.videoRenderUrl,"?doc_id=").concat(e.id),{mode:"cors",credentials:"include"}).then(function(e){return e.blob()})];case 1:return n=o[(t=i.sent()).type]||"",(0,s.A_)(URL.createObjectURL(t),{name:"".concat(e.title).concat(n)}),[2]}})}),function(e){return i.apply(this,arguments)})}}]);
//# sourceMappingURL=43299.2485aa9af3d4d62d.js.map